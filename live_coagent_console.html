
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>N─АRA Live Recursive Co-Agent Console</title>
  <style>
    body { font-family: sans-serif; padding: 1em; background: #f9f9f9; }
    textarea, pre { width: 100%; padding: 1em; margin-top: 1em; font-family: monospace; }
    button { padding: 0.5em 1em; margin-top: 1em; font-size: 1em; }
    .section { margin-bottom: 2em; }
    #memory { white-space: pre-wrap; background: #efefef; padding: 1em; border-radius: 6px; }
  </style>
</head>
<body>
  <h1>ЁЯза N─АRA Live Recursive Co-Agent Console</h1>

  <div class="section">
    <h2>Enter .nara Logic</h2>
    <textarea id="naraCode" rows="10" placeholder="e.g., рдпрджрд┐ рд╕реНрдореГрддрд┐['рд╕рддреНрд░рдГ'] == 'рднреНрд░рд╖реНрдЯрдГ': ..."></textarea>
    <button onclick="runNara()">Run Agent</button>
  </div>

  <div class="section">
    <h2>ЁЯз╛ рд╕реНрдореГрддрд┐ (Memory State)</h2>
    <pre id="memory">{}</pre>
  </div>

  <div class="section">
    <h2>ЁЯМА AST + Execution Log</h2>
    <pre id="log"></pre>
  </div>

  <script>
    let memory = {
      'рд╕рддреНрд░рдГ': 'рднреНрд░рд╖реНрдЯрдГ',
      'рддреНрд░реБрдЯрд┐рдГ': 'LLM connection failed',
    };

    function runNara() {
      const code = document.getElementById('naraCode').value;
      const log = [];

      try {
        if (code.includes("рд╕рддреНрд░рдГ") && memory['рд╕рддреНрд░рдГ'] === 'рднреНрд░рд╖реНрдЯрдГ') {
          log.push("ЁЯУМ рд╕рддреНрд░рдГ == рднреНрд░рд╖реНрдЯрдГ тЖТ Executing рдкреНрд░рддреНрдпреБрдкрдХрд░реНрд╖рдВ ...");

          if (code.includes("рд╕реНрдореГрддрд┐["рд╕реВрддреНрд░рдГ"]")) {
            memory["рд╕реВрддреНрд░рдГ"] = "https://github.com/Adtiya/nara-language";
            log.push("ЁЯФЧ рд╕реНрдореГрддрд┐['рд╕реВрддреНрд░рдГ'] updated.");
          }

          if (code.includes("рдЖрд╣реНрд╡рд╛рдирдВ")) {
            memory["рдирд╡рд╛рдЪрд╛рд░рдГ"] = "LLM: рддреНрд░реБрдЯрд┐ рд╕рдорд╛рдзрд╛рди - Check API key.";
            log.push("ЁЯУб рдЖрд╣реНрд╡рд╛рдирдВ done тЖТ simulated LLM response inserted.");
          }

          memory['рд╕рддреНрд░рдГ'] = 'рд╕рдВрд╢реЛрдзрд┐рдд';
          log.push("тЬЕ рд╕реНрдореГрддрд┐['рд╕рддреНрд░рдГ'] updated to 'рд╕рдВрд╢реЛрдзрд┐рдд'");
        } else {
          log.push("тЭМ No matching rule executed.");
        }

        document.getElementById('memory').textContent = JSON.stringify(memory, null, 2);
        document.getElementById('log').textContent = log.join('\n');
      } catch (e) {
        document.getElementById('log').textContent = "Error: " + e.message;
      }
    }
  </script>
</body>
</html>
